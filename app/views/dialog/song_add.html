<md-dialog aria-label="Add New Song" class="content-toolbar" ng-controller="SongCtrl">
    <form name="songForm" data-ng-submit="addSong()" ng-cloak>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Add New Song</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="cancel()">
                    <md-icon md-svg-src="img/icons/ic_close.svg" aria-label="Close dialog"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content>
            <div layout-gt-sm="row" layout="column" layout-align="center center" layout-padding>
                <div flex-gt-sm="100" flex>
                    <div layout="column" ng-cloak class="md-inline-form">
                        <!--<md-content md-theme="docs-dark" layout-gt-sm="row" layout-padding>-->
                        <!--<div>-->
                        <!--<div layout-gt-xs="row">-->
                        <!--<md-input-container>-->
                        <!--<label>Enter date</label>-->
                        <!--<md-datepicker ng-model="user.submissionDate"></md-datepicker>-->
                        <!--</md-input-container>-->
                        <!--</div>-->
                        <!--</div>-->
                        <!--</md-content>-->
                        <md-content layout="column" layout-padding>
                            <audio controls id="temp_player"></audio>
                            <div layout-gt-sm="row">
                                <md-input-container class="md-block" flex>
                                    <label>Song Url</label>
                                    <input ng-model="song.url" required>
                                </md-input-container>
                                <div>
                                    <md-button ng-click="readFile()">Get Info</md-button>
                                </div>
                            </div>
                        </md-content>
                        <md-content layout-padding style="background-color: white;">
                            <div>
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Title</label>
                                    <input ng-model="song.title" required>
                                </md-input-container>
                                <div layout-gt-sm="row">
                                    <md-input-container class="md-block" flex-gt-sm>
                                        <label>Genre</label>
                                        <md-select ng-model="song.genre" required="">
                                            <md-option ng-click="showAddGenre($event)">Add New</md-option>
                                            <md-option ng-repeat="item in genres" ng-value="{name : item.name , description : item.description}">
                                                {{item.genre}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>

                                    <md-input-container class="md-block" flex-gt-sm>
                                        <label>Artist</label>
                                        <md-select ng-model="selectedArtist" required>
                                            <md-option ng-click="showAddArtist($event)">Add New</md-option>
                                            <md-option ng-repeat="item in artists" ng-value="{name : item.name, photo : item.photo, description : item.description}">
                                                {{item.name}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>

                                    <md-input-container class="md-block" flex-gt-sm hidden>
                                        <label>File Size</label>
                                        <input type="number" ng-model="song.size" required>
                                    </md-input-container>

                                    <md-input-container class="md-block" flex-gt-sm hidden>
                                        <label>Duration</label>
                                        <input type="number" ng-model="song.duration" required>
                                    </md-input-container>
                                </div>

                                <md-input-container class="md-block">
                                    <label>Description</label>
                                    <textarea ng-model="song.description" md-maxlength="150" rows="3"
                                              md-select-on-focus required></textarea>
                                </md-input-container>
                            </div>
                        </md-content>
                    </div>
                </div>
            </div>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            <span flex></span>
            <md-button ng-click="hide()" type="submit" class="md-primary"
                       ng-class="{'md-raised md-hue-1': (songForm.$dirty && songForm.$valid) }"
                       aria-label="Save Song">Save
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>